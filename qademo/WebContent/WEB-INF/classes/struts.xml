<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
        "http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>
	<!-- 设置Web应用的默认编码集为gbk -->
	<constant name="struts.i18n.encoding" value="UTF-8"/>
	<!-- 设置Web应用的默认Locale为zh_CN -->
	<constant name="struts.locale" value="zh_CN" />
	<!-- 设置Struts2默认的ObjectFactory为spring -->
	<constant name="struts.objectFactory" value="spring" />
	<!-- 设置Struts2应用是否处于开发模式，通常在开发调试阶段设为true,正式上线后可设为false -->
	<constant name="struts.devMode" value="true" />
	<!-- 设置Struts2的默认主题为simple -->
	<constant name="struts.ui.theme" value="simple" />
	<constant name="struts.ognl.allowStaticMethodAccess" value="true" />

	
	<package name="default" extends="struts-default">
	   <result-types>
	   	<result-type name="exportExcel" class="com.igd.base.utils.excle.ExportExcelResult" />
	   </result-types>
		<interceptors>
			<interceptor name="logger" class="com.igd.base.interceptor.LogInterceptor"></interceptor>
			<interceptor name="loginedCheck" class="loginedCheckInterceptor"></interceptor>
			<interceptor-stack name="baseStack">
				<interceptor-ref name="defaultStack"/>
				<interceptor-ref name="logger"/>
				<interceptor-ref name="loginedCheck"/>
			</interceptor-stack>
		</interceptors>
		<!-- 指定默认action为actionError -->
		<default-action-ref name="actionError"/>
		<!-- 全局异常处理 -->
		<global-results>
			<result name="success">/success.jsp</result>
			<result name="errors">/errors.jsp</result>
			<result name="closeErrors">/closeErrors.jsp</result>
			<result name="error">/error.jsp</result>
			<result name="exception">/error.jsp</result>
			<result name="tologin" type="redirect">
        		<param name="location">/relogin.jsp</param>
      		</result>
      		<result name="input">
       			 <param name="location">/errors.jsp</param>
      		</result>
      		<!-- jquery ajax -->
      		<result name="result">/result.jsp</result>
		</global-results>
		<global-exception-mappings>
			<exception-mapping result="error" exception="com.igd.base.exception.BaseException"/>
			<exception-mapping result="exception" name="exception" exception="java.lang.Exception" />
		</global-exception-mappings>
		<action name="actionError" class="com.igd.base.action.BaseAction">
			<result>/error.jsp</result>
		</action>
    </package>
    <!-- 系统管理 -->
	<include file="com/igd/admin/struts-admin.xml" /> 
	<include file="com/igd/baseinfo/struts-baseinfo.xml" />
	<include file="com/igd/doc/struts-doc.xml" />
</struts>